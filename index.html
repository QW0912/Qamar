<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale: 1.0">
    <title>ألعاب ممتعة</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            text-align: center;
            background-color: #87ceeb; /* لون السماء */
            overflow: hidden;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px; /* زوايا دائرية للأزرار */
            background-color: #ff6347; /* لون خلفية الزر */
            color: white;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* ظل للأزرار */
        }
        button:hover {
            background-color: #ff4500; /* لون الخلفية عند التمرير */
            transform: scale(1.05); /* تكبير عند التمرير */
        }
        .winner {
            font-size: 30px;
            font-weight: bold;
            color: green;
        }
        .loser {
            font-size: 30px;
            font-weight: bold;
            color: red;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-gap: 10px;
            justify-content: center;
            margin: 20px auto;
        }
        .cell {
            width: 100px;
            height: 100px;
            background-color: white;
            border: 2px solid black;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        #luckArea {
            width: 300px;
            height: 200px;
            background-color: lightblue;
            position: relative;
            margin: auto;
            border: 2px solid #000;
            overflow: hidden;
        }
        #goal {
            width: 50px;
            height: 50px;
            background-color: green;
            position: absolute;
            top: 75px;
            left: 125px;
        }
    </style>
</head>
<body>
    <h1>ألعاب ممتعة</h1>
    
    <h2>قبل أن تبدأ، عليك الإجابة على السؤال:</h2>
    <p>شمر أيش؟</p>
    <input type="text" id="answerInput" placeholder="أدخل الإجابة هنا">
    <button onclick="checkAnswer()">تأكيد</button>

    <div id="gameArea" style="display:none;">
        <h2>اختر لعبة</h2>
        <button onclick="showGame('wordGuess')">لعبة تخمين الكلمة</button>
        <button onclick="showGame('ticTacToe')">لعبة إكس أو</button>
        <button onclick="showGame('luckGame')">لعبة الحظ</button>

        <div id="games" style="display:none;"></div>
    </div>

    <audio id="catchSound" src="https://www.soundjay.com/human/sounds/catch-1.mp3" preload="auto"></audio>
    <audio id="purchaseSound" src="https://www.soundjay.com/button/sounds/button-1.mp3" preload="auto"></audio>
    <audio id="backgroundMusic" src="https://u.pcloud.link/publink/show?code=XZjIby5ZzX5YT3Bgqm8Q2FlQyvnedyBRMc1k" preload="auto" loop></audio>
    <audio id="clapSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3" preload="auto"></audio>
    <audio id="laughSound" src="https://www.soundjay.com/human/sounds/laugh-4.mp3" preload="auto"></audio>

    <script>
        const wordsWithHints = [
            { word: "بطريق", hint: "كائن يعيش في الثلج" },
            { word: "دب", hint: "كائن يعيش في الغابة" },
            { word: "سمكة", hint: "كائن يعيش في الماء" },
            { word: "فيل", hint: "أكبر حيوان على اليابسة" },
            { word: "قطة", hint: "حيوان أليف مشهور" },
            { word: "كلب", hint: "رفيق الإنسان" },
            { word: "عصفور", hint: "يستطيع الطيران" },
            { word: "أسد", hint: "ملك الغابة" },
            { word: "جمل", hint: "يعيش في الصحراء" },
            { word: "سلحفاة", hint: "حيوان بطيء" },
            { word: "نسر", hint: "طائر جارح" },
            { word: "خروف", hint: "يعيش في المزارع" },
            { word: "ديك", hint: "يوقظ الناس في الصباح" },
            { word: "فراشة", hint: "تحب الزهور" },
            { word: "جندب", hint: "حشرة قافزة" },
            { word: "دجاجة", hint: "تضع البيض" },
            { word: "سنجاب", hint: "يحب الجوز" },
            { word: "تمساح", hint: "يعيش في الماء" },
            { word: "فراولة", hint: "فاكهة حمراء" },
            { word: "بطيخ", hint: "فاكهة كبيرة" },
            { word: "تفاح", hint: "فاكهة لذيذة" }
        ];

        function checkAnswer() {
            const answer = document.getElementById('answerInput').value;
            if (answer === "دوله") {
                document.getElementById('gameArea').style.display = 'block';
                document.getElementById('answerInput').value = ''; // مسح الإجابة
            } else {
                alert("إجابة خاطئة، حاول مرة أخرى.");
            }
        }

        function showGame(game) {
            document.getElementById('games').style.display = 'block';
            document.getElementById('games').innerHTML = ''; // تنظيف منطقة الألعاب

            if (game === 'wordGuess') {
                startWordGuessGame();
            } else if (game === 'ticTacToe') {
                startTicTacToeGame();
            } else if (game === 'luckGame') {
                startLuckGame();
            }
        }

        // لعبة تخمين الكلمة
        function startWordGuessGame() {
            const gameContainer = document.createElement('div');
            gameContainer.innerHTML = `
                <h2>تخمين الكلمة</h2>
                <div id="hint"></div>
                <input type="text" id="wordInput" placeholder="أدخل كلمتك" maxlength="50">
                <button onclick="checkWord()">تأكيد</button>
                <button onclick="resetWordGame()">إعادة اللعب</button>
                <div id="wordResult"></div>
                <div id="wordTimer">المؤقت: <span id="wordTime">30</span> ثواني</div>
            `;
            document.getElementById('games').appendChild(gameContainer);
            const randomWord = wordsWithHints[Math.floor(Math.random() * wordsWithHints.length)];
            document.getElementById('hint').innerText = `تلميح: ${randomWord.hint}`;
            startWordTimer(randomWord.word);
        }

        function checkWord() {
            const input = document.getElementById('wordInput').value;
            if (input === correctWord) {
                document.getElementById('wordResult').innerHTML = `<span class="winner">فائز! الكلمة الصحيحة هي "${correctWord}".</span>`;
                document.getElementById('clapSound').play();
                clearInterval(wordTimer);
            } else {
                document.getElementById('wordResult').innerHTML = `<span class="loser">خسرت! حاول مرة أخرى. الكلمة الصحيحة هي "${correctWord}".</span>`;
                document.getElementById('laughSound').play();
                clearInterval(wordTimer);
            }
        }

        function resetWordGame() {
            document.getElementById('wordInput').value = '';
            document.getElementById('wordResult').innerText = '';
            startWordGuessGame(); // إعادة تشغيل اللعبة مع كلمة جديدة
        }

        function startWordTimer(correctWord) {
            let timeLeft = 30;
            document.getElementById('wordTime').innerText = timeLeft;

            const wordTimer = setInterval(function() {
                timeLeft--;
                document.getElementById('wordTime').innerText = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(wordTimer);
                    document.getElementById('wordResult').innerHTML = `<span class="loser">انتهت اللعبة! الكلمة الصحيحة كانت "${correctWord}".</span>`;
                    document.getElementById('laughSound').play();
                }
            }, 1000);
        }

        // لعبة إكس أو
        function startTicTacToeGame() {
            const gameContainer = document.createElement('div');
            gameContainer.innerHTML = `
                <h2>لعبة إكس أو</h2>
                <p id="xOStatus">اختر نمط اللعب:</p>
                <button onclick="startLocalGame('friend')">اللعب مع صديق</button>
                <button onclick="startLocalGame('computer')">اللعب ضد الكمبيوتر</button>
                <div class="board" id="board" style="display: none;">
                    <div class="cell" data-index="0"></div>
                    <div class="cell" data-index="1"></div>
                    <div class="cell" data-index="2"></div>
                    <div class="cell" data-index="3"></div>
                    <div class="cell" data-index="4"></div>
                    <div class="cell" data-index="5"></div>
                    <div class="cell" data-index="6"></div>
                    <div class="cell" data-index="7"></div>
                    <div class="cell" data-index="8"></div>
                </div>
                <div id="xOResult"></div>
                <div id="xOTimer">المؤقت: <span id="xOTime">30</span> ثواني</div>
            `;
            document.getElementById('games').appendChild(gameContainer);
        }

        let currentPlayer = 'X';
        let board = Array(9).fill(null);
        let xOTimer;

        function startLocalGame(mode) {
            document.getElementById('board').style.display = 'grid'; // عرض لوحة إكس أو
            setupTicTacToe();
            startXOTimer();
        }

        function setupTicTacToe() {
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => {
                cell.addEventListener('click', () => {
                    handleMove(cell);
                });
            });
        }

        function handleMove(cell) {
            const index = cell.getAttribute('data-index');
            if (!board[index]) {
                board[index] = currentPlayer;
                cell.innerText = currentPlayer;
                if (checkWin()) {
                    document.getElementById('xOResult').innerHTML = `<span class="winner">فائز! اللاعب ${currentPlayer}</span>`;
                    document.getElementById('clapSound').play();
                    clearInterval(xOTimer);
                } else if (board.every(cell => cell)) {
                    document.getElementById('xOResult').innerHTML = `<span class="loser">تعادل!</span>`;
                    document.getElementById('laughSound').play();
                    clearInterval(xOTimer);
                } else {
                    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                    document.getElementById('xOStatus').innerText = `اللاعب ${currentPlayer} يلعب الآن`;
                }
            }
        }

        function checkWin() {
            const winningCombinations = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
                [0, 4, 8], [2, 4, 6]  // Diagonals
            ];
            return winningCombinations.some(combination => 
                combination.every(index => board[index] === currentPlayer)
            );
        }

        function startXOTimer() {
            let timeLeft = 30;
            document.getElementById('xOTime').innerText = timeLeft;

            xOTimer = setInterval(function() {
                timeLeft--;
                document.getElementById('xOTime').innerText = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(xOTimer);
                    document.getElementById('xOResult').innerText = 'انتهت اللعبة!';
                    document.getElementById('laughSound').play();
                }
            }, 1000);
        }

        // لعبة الحظ
        function startLuckGame() {
            let attempts = 0;
            luckScore = 0;
            const maxAttempts = 4;
            startLuckTimer();

            const gameContainer = document.createElement('div');
            gameContainer.innerHTML = `
                <h2>لعبة الحظ</h2>
                <p>حاول أن تُدخل الكرة داخل المربع الأزرق</p>
                <div id="luckArea" style="width: 300px; height: 200px; background-color: lightblue; position: relative; margin: auto; border: 2px solid #000;">
                    <div id="goal" style="width: 50px; height: 50px; background-color: green; position: absolute; top: 75px; left: 125px;"></div>
                </div>
                <button onclick="throwBall()">ارمي الكرة</button>
                <div id="luckResult"></div>
                <div id="luckTimer">المؤقت: <span id="luckTime">30</span> ثواني</div>
            `;
            document.getElementById('games').appendChild(gameContainer);
        }

        let luckScore = 0;
        function throwBall() {
            if (luckScore < 2 && attempts < 4) {
                // محاكاة دخول الكرة
                const randomChance = Math.random() < 0.5; // 50% فرصة لدخول الكرة
                if (randomChance) {
                    luckScore++;
                    document.getElementById('luckResult').innerHTML = `<span class="winner">دخلت الكرة!</span>`;
                } else {
                    document.getElementById('luckResult').innerHTML = `<span class="loser">لم تدخل الكرة!</span>`;
                }

                attempts++;
                if (luckScore === 2) {
                    document.getElementById('luckResult').innerHTML = `<span class="winner">فائز!</span>`;
                    document.getElementById('clapSound').play();
                    clearInterval(luckTimer);
                } else if (attempts >= 4) {
                    document.getElementById('luckResult').innerHTML = `<span class="loser">خسرت! حاول مرة أخرى.</span>`;
                    document.getElementById('laughSound').play();
                    clearInterval(luckTimer);
                }
            }
        }

        function startLuckTimer() {
            let timeLeft = 30;
            document.getElementById('luckTime').innerText = timeLeft;

            luckTimer = setInterval(function() {
                timeLeft--;
                document.getElementById('luckTime').innerText = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(luckTimer);
                    document.getElementById('luckResult').innerHTML = `<span class="loser">انتهت اللعبة!</span>`;
                    document.getElementById('laughSound').play();
                }
            }, 1000);
        }
    </script>
</body>
</html>